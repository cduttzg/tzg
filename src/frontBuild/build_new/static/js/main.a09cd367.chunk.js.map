{"version":3,"sources":["utils/Request.js","components/LoginForm.js","components/DrawerRegisterForm.js","components/TopHeader.js","components/GoodsInfo.js","components/Cart.js","components/Home.js","utils/FileUpload.js","components/UpdateMessageForm.js","utils/Map2JSON.js","components/UserMessage.js","components/App.js","index.js"],"names":["Get","url","fetch","method","headers","Headers","Content-Type","then","response","handlResponse","catch","error","console","concat","messge","Post","data","body","JSON","stringify","status","json","statusText","message","LoginForm","handleSubmit","e","preventDefault","golbalMessage","submit","_this","props","validateFields","err","values","log","用户名","username","密码","btoa","password","code","user","isFrozen","role","isLogin","success","getFieldDecorator","this","react_default","a","createElement","es_form","onSubmit","className","Item","rules","required","input","prefix","icon","type","style","color","placeholder","valuePropName","initialValue","es_checkbox","href","es_button","htmlType","React","Component","RegistrationForm","state","confirmDirty","registerButtonDisable","register","validateFieldsAndScroll","学号","schoolNumber","nickname","password_1","教务处密码","password_2","手机号","phone","邮箱","email","地址","address","handleConfirmBlur","value","target","setState","compareToFirstPassword","rule","callback","form","getFieldValue","validateToNextPassword","force","_this2","tailFormItemLayout","wrapperCol","xs","span","offset","sm","Object","assign","labelCol","label","hasFeedback","validator","Password","onBlur","tooltip","title","whitespace","width","onChange","disabled","Header","Layout","Search","Input","TopHeader","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleLoginClick","modal","visible","handleRegisterClick","drawer","handleLoginModalCancle","handleRegisterModalCancle","handleLoginFormSubmit","handleRegisterSubmit","avatarSrc","modalText","drawerText","WrappedLoginForm","Form","create","name","WrappedRegisterForm","DrawerRegisterForm","avatarMenu","menu","key","react_router_dom","to","pathname","search","Divider","onClick","id","position","zIndex","dropdown","overlay","trigger","avatar","size","src","es_drawer","onClose","handleRegister","es_modal","footer","onCancel","onSearch","enterButton","theme","mode","defaultSelectedKeys","lineHeight","Meta","Card","GoodsInfo","goods","length","divider","fontSize","orientation","map","index","card","hoverable","float","marginBottom","marginLeft","marginRight","cover","alt","description","skeleton","active","Cart","_this3","content","popover","Home","books","virtuals","houses","activities","others","allGoods","allGoodsName","i","toConsumableArray","v","GoodsInfo_GoodsInfo","Cart_Cart","getBase64","img","reader","FileReader","addEventListener","result","readAsDataURL","beforeUpload","file","isVailde","isLargeThan2M","UpdateMessageForm","upLoading","imgFile","moneyCodeImgFile","Map","set","MapOBJ","_iteratorNormalCompletion","entries","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","return","parse","Map2JSON","formData","FormData","append","PutImage","customRequest","userOld","userAvatarSrc","customMoneyCodeRequest","moneyCode","upload","listType","showUploadList","shape","UserMessage","WrappedUpdateForm","App","ifLogin","react_router","path","component","exact","ReactDOM","render","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.a09cd367.chunk.js","sourcesContent":["function Get(url){\r\n    return fetch(url, {\r\n        method : \"GET\",\r\n        headers : new Headers({\r\n            'Content-Type': 'application/json'\r\n        })\r\n    }).then(response => {\r\n        return handlResponse(url, response);\r\n    }).catch(error => {\r\n        console.error(`Requset failed. Url=${url}. Message=${error}`);\r\n        return {\r\n            error : {\r\n                messge : 'request failed'\r\n            }\r\n        };\r\n    });\r\n}\r\nfunction Post(url, data){\r\n    return fetch(url, {\r\n        method : \"POST\",\r\n        headers : new Headers({\r\n            'Content-Type': 'application/json'\r\n        }),\r\n        body : JSON.stringify(data)\r\n    }).then(response => {\r\n        return handlResponse(url, response);\r\n    }).catch(error => {\r\n        console.error(`Requset failed. Url=${url}. Message=${error}`);\r\n        return {\r\n            error : {\r\n                messge : 'request failed'\r\n            }\r\n        };\r\n    });\r\n}\r\nfunction PutImage(url, formData){\r\n    return fetch(url, {\r\n        method : \"POST\",\r\n        body : formData\r\n    }).then(response => {\r\n        return handlResponse(url, response);\r\n    }).catch(error => {\r\n        console.error(`input image failed. Url=${url}. Message=${error}`);\r\n        return {\r\n            error : {\r\n                messge : 'request failed'\r\n            }\r\n        };\r\n    })\r\n}\r\nfunction handlResponse(url, response){\r\n    if(response.status < 500){\r\n        return response.json();\r\n    }else{\r\n        console.error(`Requset failed. Url=${url}. Message=${response.statusText}`);\r\n        return {\r\n            error : {\r\n                message : 'request failed due to server error'\r\n            }\r\n        }\r\n    }\r\n}\r\nexport {\r\n    Get, Post, PutImage\r\n}","import React from 'react';\r\nimport { Form, Icon, Input, Button, Checkbox, message } from 'antd';\r\nimport '../stylesheets/LoginForm.css';\r\nimport { Post } from '../utils/Request';\r\n\r\nexport default class LoginForm extends React.Component {\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const golbalMessage = message;\r\n    const submit = this.props['handleSubmit'];\r\n    this.props['form'].validateFields((err, values) => {\r\n      if (!err) {\r\n        console.log('Received values of form: ', values);\r\n        const url = '/api/user/login';\r\n        const data = {\"用户名\" : values.username, \"密码\" : btoa(values.password)};\r\n        const res = Post(url, data);\r\n        res.then(response => {\r\n          let {code, message, data} = response;\r\n          if(code !== 200) golbalMessage.error(message);\r\n          const user = {\r\n            username : values.username,\r\n            isFrozen : data['是否被冻结'],\r\n            role : data['角色'],\r\n            isLogin : true\r\n          };\r\n          golbalMessage.success('登陆成功！');\r\n          submit(user);\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props['form'];\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n        <Form.Item>\r\n          {getFieldDecorator('username', {\r\n            rules: [{ required: true, message: '请输入你的用户名！' }],\r\n          })(\r\n            <Input\r\n              prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              placeholder=\"用户名\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('password', {\r\n            rules: [{ required: true, message: '请输入你的密码！' }],\r\n          })(\r\n            <Input\r\n              prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n              type=\"password\"\r\n              placeholder=\"你的密码\"\r\n            />,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item>\r\n          {getFieldDecorator('remember', {\r\n            valuePropName: 'checked',\r\n            initialValue: true,\r\n          })(<Checkbox>记住密码</Checkbox>)}\r\n          <a className=\"login-form-forgot\" href=\"seefun.club\">\r\n              忘记密码\r\n          </a>\r\n          <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" >\r\n              登陆\r\n          </Button>\r\n          或者    点击注册按钮去注册一个？\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Tooltip,\r\n  Icon,\r\n  Checkbox,\r\n  Button,\r\n  message\r\n} from 'antd';\r\nimport { Post } from '../utils/Request';\r\nimport '../stylesheets/DrawerRegisterForm.css'\r\n\r\nexport default class RegistrationForm extends React.Component {\r\n  state = {\r\n    confirmDirty: false,\r\n    registerButtonDisable : true \r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const golbalMessage = message;\r\n    const register = this.props['handleRegister'];\r\n    this.props['form'].validateFieldsAndScroll((err, values) => {\r\n      if (!err) {\r\n        console.log('Received values of form: ', values);\r\n        const url = '/api/user/register';\r\n        const data = {\"学号\":values.schoolNumber,\"用户名\":values.nickname,\"密码\":btoa(values.password_1),\r\n                      \"教务处密码\":values.password_2,\"手机号\":values.phone,\"邮箱\":values.email,\r\n                      \"地址\":values.address};\r\n        const res = Post(url, data);\r\n        res.then(response=>{\r\n          let {code, message, data} = response;\r\n          if(code !== 200) golbalMessage.error(message);\r\n          let user = {\r\n            username : values.nickname,\r\n            isLogin : true\r\n          };\r\n          register(user);\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  handleConfirmBlur = e => {\r\n    const { value } = e.target;\r\n    this.setState({ confirmDirty: this.state.confirmDirty || !!value });\r\n  };\r\n\r\n  compareToFirstPassword = (rule, value, callback) => {\r\n    const form = this.props['form'];\r\n    if (value && value !== form.getFieldValue('password_1')) {\r\n      callback('两次输入的密码不一致！');\r\n    } else {\r\n      callback();\r\n    }\r\n  };\r\n  validateToNextPassword = (rule, value, callback) => {\r\n    const form = this.props['form'];\r\n    if (value && this.state.confirmDirty) {\r\n      form.validateFields(['confirm'], { force: true });\r\n    }\r\n    callback();\r\n  };\r\n  render() {\r\n    const { getFieldDecorator } = this.props['form'];\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 8 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    const tailFormItemLayout = {\r\n      wrapperCol: {\r\n        xs: {\r\n          span: 24,\r\n          offset: 0,\r\n        },\r\n        sm: {\r\n          span: 16,\r\n          offset: 8,\r\n        },\r\n      },\r\n    };\r\n    return (\r\n      <Form {...formItemLayout} onSubmit={this.handleSubmit}>\r\n        <Form.Item label=\"电子邮箱\">\r\n          {getFieldDecorator('email', {\r\n            rules: [\r\n              {\r\n                type: 'email',\r\n                message: '输入的邮箱格式不规范！',\r\n              },\r\n              {\r\n                required: true,\r\n                message: '请输入你的电子邮箱！',\r\n              },\r\n            ],\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item label=\"密码\" hasFeedback>\r\n          {getFieldDecorator('password_1', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: '请输入你的密码！',\r\n              },\r\n              {\r\n                validator: this.validateToNextPassword,\r\n              },\r\n            ],\r\n          })(<Input.Password />)}\r\n        </Form.Item>\r\n        <Form.Item label=\"确认密码\" hasFeedback>\r\n          {getFieldDecorator('confirm', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: '请确认你输入的密码！',\r\n              },\r\n              {\r\n                validator: this.compareToFirstPassword,\r\n              },\r\n            ],\r\n          })(<Input.Password onBlur={this.handleConfirmBlur} />)}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label={\r\n            <span>\r\n              学号&nbsp;\r\n              <Tooltip title=\"用于验证身份的学号\">\r\n                <Icon type=\"question-circle-o\" />\r\n              </Tooltip>\r\n            </span>\r\n          }\r\n        >\r\n          {getFieldDecorator('schoolNumber', {\r\n            rules: [{ required: true, message: '请输入你的学号！', whitespace: true }],\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item label=\"用于验证身份的教务处密码\" hasFeedback>\r\n          {getFieldDecorator('password_2', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: '请输入你的教务处密码！',\r\n              },\r\n              {\r\n                validator: this.validateToNextPassword,\r\n              },\r\n            ],\r\n          })(<Input.Password />)}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label={\r\n            <span>\r\n              用户名&nbsp;\r\n              <Tooltip title=\"请输入你的用户名\">\r\n                <Icon type=\"question-circle-o\" />\r\n              </Tooltip>\r\n            </span>\r\n          }\r\n        >\r\n          {getFieldDecorator('nickname', {\r\n            rules: [{ required: true, message: '请输入你的用户名！', whitespace: true }],\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item label=\"电话号码\">\r\n          {getFieldDecorator('phone', {\r\n            rules: [{ required: true, message: '请输入你的电话号码！' }],\r\n          })(<Input style={{ width: '100%' }} />)}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label={\r\n            <span>\r\n              收货地址&nbsp;\r\n              <Tooltip title=\"请输入你的收货地址\">\r\n                <Icon type=\"question-circle-o\" />\r\n              </Tooltip>\r\n            </span>\r\n          }\r\n        >\r\n          {getFieldDecorator('address', {\r\n            rules: [{ required: true, message: '请输入你的收货地址！', whitespace: true }],\r\n          })(<Input />)}\r\n        </Form.Item>\r\n\r\n        <Form.Item {...tailFormItemLayout}>\r\n          {getFieldDecorator('agreement', {\r\n            valuePropName: 'checked',\r\n          })(\r\n            <Checkbox onChange={()=>{\r\n              this.setState({\r\n                registerButtonDisable : !this.state.registerButtonDisable\r\n              })\r\n            }}>\r\n              我已经阅读并同意 <a href=\"seefun.club\">用户协议</a>\r\n            </Checkbox>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item {...tailFormItemLayout}>\r\n          <Button disabled={this.state.registerButtonDisable} type=\"primary\" htmlType=\"submit\">\r\n            注册\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}","import { Layout, Menu, Input, Avatar, Modal, Button, Form, Drawer, Dropdown, message } from 'antd';\r\nimport React,{Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport LoginForm from './LoginForm';\r\nimport DrawerRegisterForm from './DrawerRegisterForm';\r\nimport '../stylesheets/TopHeader.css';\r\n\r\nconst { Header } = Layout;\r\nconst { Search } = Input;\r\n\r\nexport default class TopHeader extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            user : {\r\n                role : 0,\r\n                username : '',\r\n                isLogin : false,\r\n                avatarSrc : null,\r\n                isFrozen : false\r\n            },\r\n            modal : {\r\n                modalText : '',\r\n                visible : false\r\n            },\r\n            drawer : {\r\n                drawerText : '',\r\n                visible : false\r\n            }\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        \r\n    }\r\n    render(){\r\n        let user = this.state['user'], modal = this.state['modal'], drawer = this.state['drawer'];\r\n        const WrappedLoginForm = Form.create({ name: 'normal_login' })(LoginForm);\r\n        const WrappedRegisterForm = Form.create({ name: 'register' })(DrawerRegisterForm);\r\n        const avatarMenu = (\r\n            <Menu>\r\n                <Menu.Item key='0'>\r\n                    <Link to={{\r\n                        pathname: '/users/message',\r\n                        search: `?username=${this.state['user'].username}`\r\n                    }}>个人信息管理</Link>\r\n                </Menu.Item>\r\n                <Menu.Divider />\r\n                <Menu.Item key='1'>\r\n                    <Link to='/users/home'>个人中心</Link>\r\n                </Menu.Item>\r\n                <Menu.Divider />\r\n                <Menu.Item key='2' onClick={()=>{\r\n                    this.setState({\r\n                        user : {\r\n                            username : '',\r\n                            isLogin : false\r\n                        }\r\n                    })\r\n                }}>\r\n                    退出登陆\r\n                </Menu.Item>\r\n            </Menu>\r\n        );\r\n        return(\r\n            <div id='header'>\r\n                <Header id=\"header\" style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\r\n                    <div className=\"logo\" />\r\n                        <div className=\"siteName\">贝壳</div>\r\n                        {!user['isLogin'] ? <Avatar className='userAvatar' size={40} icon=\"user\" /> : <Dropdown overlay={avatarMenu} trigger={['click']}><Avatar className='userAvatar' size={40} src={user['avatarSrc']} /></Dropdown>}\r\n                        {!user['isLogin'] ? <div className='register'>\r\n                            <Button onClick={this.handleRegisterClick}>注册</Button>\r\n                            <Drawer \r\n                                title='注册属于你的账户' \r\n                                width={700} \r\n                                onClose={this.handleRegisterModalCancle} \r\n                                visible={drawer.visible}>\r\n                                <WrappedRegisterForm handleRegister={this.handleRegisterSubmit} />\r\n                            </Drawer>\r\n                            </div> : null }\r\n                        {!user['isLogin'] ? <div className='login'>\r\n                            <Button onClick={this.handleLoginClick}>登陆</Button>\r\n                            <Modal visible={modal.visible} footer={null} onCancel={this.handleLoginModalCancle} title='登陆'>\r\n                                <WrappedLoginForm handleSubmit={this.handleLoginFormSubmit} />\r\n                            </Modal>\r\n                            </div> : null }\r\n                    <div className=\"forSearch\">\r\n                        <Search placeholder='输入你想查找的物品名称' onSearch={value=>{console.log(value)}} enterButton ></Search>\r\n                    </div>\r\n                    <Menu\r\n                        theme=\"light\"\r\n                        mode=\"horizontal\"\r\n                        defaultSelectedKeys={['1']}\r\n                        style={{ lineHeight: '64px' }}\r\n                    >\r\n                        <Menu.Item key=\"1\"><Link to='/homePage'>首页</Link></Menu.Item>\r\n                        <Menu.Item key=\"2\"><Link to='/activity'>福利</Link></Menu.Item>\r\n                        {user['role'] === 1 || user['role'] === 2 ? <Menu.Item key=\"3\"><Link to='/backstage'>后台管理</Link></Menu.Item> : null}          \r\n                    </Menu>\r\n                </Header>\r\n            </div>\r\n        );\r\n    }\r\n    //点击登陆按钮，使得弹窗显示\r\n    handleLoginClick = () => {\r\n        this.setState({\r\n            modal : {\r\n                visible : true\r\n            }\r\n        });\r\n    };\r\n    handleRegisterClick = () => {\r\n        this.setState({\r\n            drawer : {\r\n                visible : true\r\n            }\r\n        });\r\n    }\r\n    handleLoginModalCancle = () => {\r\n        this.setState({\r\n            modal : {\r\n                visible : false\r\n            }\r\n        });\r\n    };\r\n    handleRegisterModalCancle = () =>{\r\n        this.setState({\r\n            drawer : {\r\n                visible : false\r\n            }\r\n        });\r\n    };\r\n    //resolve login event\r\n    handleLoginFormSubmit = (user) => {\r\n        console.log(user);\r\n        this.setState({\r\n            user : user\r\n        })\r\n    }\r\n    //resolve the register event\r\n    handleRegisterSubmit = (user) => {\r\n        console.log(user);\r\n        this.setState({\r\n            user : user\r\n        })\r\n    }\r\n}","import React from 'react';\r\nimport { Skeleton, Card, Divider} from 'antd';\r\nimport '../stylesheets/GoodsInfo.css';\r\n\r\nconst { Meta } = Card;\r\nexport default class GoodsInfo extends React.Component{\r\n    render(){\r\n        const goods = this.props['goods'];\r\n        console.log(goods);\r\n        return (\r\n            <div className='goodsInfo'>\r\n                {!goods.length ? <div><Skeleton active /><Skeleton active /></div> :<div className='content'>\r\n                    <Divider style={{fontSize: 23}}  orientation='left'>{this.props['name']}</Divider>\r\n                {\r\n                    goods.map((value, index)=>{\r\n                        return (\r\n                            <Card key={index} hoverable style={{width:200, float:\"left\",marginBottom: 10, marginLeft:25, marginRight: 20 }} \r\n                                cover={<img alt={value['商品名称']} src={value['商品图片']} />}>\r\n                                <Meta title={value['商品名称']} description={value['商品描述']} />\r\n                            </Card>\r\n                        );\r\n                    })\r\n                }</div>}\r\n            </div>\r\n        );\r\n    }\r\n}","import React,{Component} from 'react'\r\nimport '../stylesheets/Cart.css'\r\nimport { Popover, Button, Avatar, List, message, Spin, Badge } from 'antd';\r\nimport { Get } from '../utils/Request';\r\nimport InfiniteScroll from 'react-infinite-scroller';\r\n\r\nclass InfiniteListExample extends React.Component {\r\n  state = {\r\n    data: [],\r\n    loading: false,\r\n    hasMore: true,\r\n  };\r\n  componentDidMount() {\r\n    let url = `https://randomuser.me/api/?results=5&inc=name,gender,email,nat&noinfo`;\r\n    let res = Get(url);\r\n    res.then(response=>{\r\n      let {code,message,data} = response;\r\n      this.setState({\r\n        data : data.data\r\n      })\r\n    });\r\n  }\r\n\r\n  handleInfiniteOnLoad = () => {\r\n    let { data } = this.state;\r\n    this.setState({\r\n      loading: true,\r\n    });\r\n    if (data.length > 14) {\r\n      message.warning('Infinite List loaded all');\r\n      this.setState({\r\n        hasMore: false,\r\n        loading: false,\r\n      });\r\n      return;\r\n    }\r\n    let url = `https://randomuser.me/api/?results=5&inc=name,gender,email,nat&noinfo`;\r\n    let res = Get(url);\r\n    res.then(response=>{\r\n      let {code,message,data} = response;\r\n      const dataNew = data.concat(data.data);\r\n      this.setState({\r\n        data : dataNew,\r\n        loading : false\r\n      })\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"demo-infinite-container\">\r\n        <InfiniteScroll\r\n          initialLoad={false}\r\n          pageStart={0}\r\n          loadMore={this.handleInfiniteOnLoad}\r\n          hasMore={!this.state.loading && this.state.hasMore}\r\n          useWindow={false}\r\n        >\r\n          <List\r\n            dataSource={this.state.data}\r\n            renderItem={item => (\r\n              <List.Item key={item.id}>\r\n                <List.Item.Meta\r\n                  avatar={\r\n                    <span style={{ marginRight: 24}}>\r\n                      {/*商品数量*/}\r\n                      <Badge count={item[\"数量\"]}>\r\n                        <Avatar shape=\"square\" src={item[\"商品图片\"]} />\r\n                      </Badge>\r\n                    </span>\r\n                  }\r\n                  //商品名称\r\n                  title={<a href=\"https://ant.design\">{item[\"商品名称\"]}</a>}\r\n                  description={//商品描述\r\n                    item[\"描述\"]}\r\n                />\r\n                <div>{/*商品总价*/}￥{item[\"单价\"]}</div>\r\n              </List.Item>\r\n            )}\r\n          >\r\n            {this.state.loading && this.state.hasMore && (\r\n              <div className=\"demo-loading-container\">\r\n                <Spin />\r\n              </div>\r\n            )}\r\n          </List>\r\n        </InfiniteScroll>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default class Cart extends Component{\r\n\r\n  constructor(props){\r\n      super(props);\r\n      this.state={\r\n        value:\"e\"\r\n      }\r\n  }    \r\n\r\n  render(){   \r\n    const content = (\r\n        //<InfiniteListExample></InfiniteListExample>\r\n        <div>content</div>\r\n      );\r\n\r\n    return(\r\n      <Popover content={content}>\r\n          <div id=\"CartDiv\">\r\n            <Button id=\"Cart\" type=\"primary\"><div id=\"cartImg\"></div><span>进入购物车</span></Button>\r\n          </div>\r\n      </Popover>\r\n    );\r\n  }\r\n}\r\n\r\n","import React,{ Component } from 'react';\r\nimport GoodsInfo from './GoodsInfo';\r\nimport Cart from './Cart';\r\nimport { Get } from '../utils/Request';\r\nimport '../stylesheets/Home.css';\r\n\r\nexport default class Home extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            books : [],\r\n            virtuals : [],\r\n            houses : [],\r\n            activities : []\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        let url = '/api/home';\r\n        const res = Get(url);\r\n        res.then(response=>{\r\n            let {code, message, data} = response;\r\n            this.setState({\r\n                books : data['书籍'],\r\n                virtuals : data['虚拟'],\r\n                houses : data['房屋'],\r\n                others : data['其它'],\r\n                activities : data['福利']\r\n            });\r\n        });\r\n    }\r\n    render(){\r\n        let allGoods = [];\r\n        let allGoodsName = ['书籍', '虚拟', '房屋', '其它', '福利'];\r\n        for(let i in this.state) allGoods=[...allGoods,this.state[i]];\r\n        return(\r\n            <div id='home'>{\r\n                allGoods.map((v,i)=>{\r\n                    return(\r\n                        <GoodsInfo key={i} name={allGoodsName[i]} goods={v} />\r\n                    );\r\n                })}\r\n                <Cart />\r\n            </div>\r\n        );\r\n    }\r\n}","import {message} from 'antd';\r\n\r\nfunction getBase64(img, callback){\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load',()=>{\r\n      callback(reader.result);\r\n    });\r\n    reader.readAsDataURL(img);\r\n  }\r\nfunction beforeUpload(file){\r\n    const isVailde = (file.type === 'image/png' || file.type === 'image/jpeg'); \r\n    if(!isVailde){\r\n        message.error('你只能上传png、jpg图像哦。');\r\n    }else{\r\n        const isLargeThan2M = file.size / 1024 / 1024 > 2;\r\n        if(isLargeThan2M){\r\n        message.error('你上传的图片文件大小超过了2M的限制！')\r\n        }\r\n        return isVailde && !isLargeThan2M;\r\n    }\r\n}\r\n\r\nexport {getBase64, beforeUpload};","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Tooltip,\r\n  Icon,\r\n  Button,\r\n  message,\r\n  Upload,\r\n  Divider\r\n} from 'antd';\r\nimport { Post, Get, PutImage } from '../utils/Request';\r\nimport Map2JSON from '../utils/Map2JSON';\r\nimport {getBase64, beforeUpload} from '../utils/FileUpload';\r\nimport '../stylesheets/UpdateMessageForm.css'\r\n\r\nexport default class UpdateMessageForm extends React.Component {\r\n  state = {\r\n    confirmDirty: false,\r\n    registerButtonDisable : true,\r\n    upLoading : false,\r\n    imgFile : null,\r\n    user : this.props['user'],\r\n    moneyCodeImgFile : null\r\n  };\r\n\r\n  componentWillMount(){\r\n\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const golbalMessage = message;\r\n    this.props['form'].validateFieldsAndScroll((err, values) => {\r\n      if (!err) {\r\n        console.log('Received values of form: ', values);\r\n        let map = new Map();\r\n        map.set('用户名',values.nickname);\r\n        map.set('电话号码',values.phone);\r\n        map.set('电子邮箱',values.email);\r\n        map.set('收货地址',values.address);\r\n        let data = Map2JSON(map);\r\n        let formData = new FormData();\r\n        formData.append('data',data);\r\n        formData.append('img',this.state.imgFile);\r\n        formData.append('img',this.state.moneyCodeImgFile);\r\n        let url = '/api/user/home/updateMessage';\r\n        let res = PutImage(url, formData);\r\n        res.then(response=>{\r\n          let {code, message, data} = response;\r\n          if(code !== 200){golbalMessage.error(message ||'ヤッ 上传信息出现了某些意外');}else{\r\n            golbalMessage.success('成功更新个人信息！');\r\n          }\r\n          //发送请求更新用户信息\r\n\r\n        })\r\n      }\r\n    });\r\n  };\r\n\r\n  handleConfirmBlur = e => {\r\n    const { value } = e.target;\r\n    this.setState({ confirmDirty: this.state.confirmDirty || !!value });\r\n  };\r\n\r\n  compareToFirstPassword = (rule, value, callback) => {\r\n    const form = this.props['form'];\r\n    if (value && value !== form.getFieldValue('password_1')) {\r\n      callback('两次输入的密码不一致！');\r\n    } else {\r\n      callback();\r\n    }\r\n  };\r\n  validateToNextPassword = (rule, value, callback) => {\r\n    const form = this.props['form'];\r\n    if (value && this.state.confirmDirty) {\r\n      form.validateFields(['confirm'], { force: true });\r\n    }\r\n    callback();\r\n  };\r\n\r\n  //用户头像图片预览\r\n  customRequest = (file) => {\r\n    if(!beforeUpload(file.file)) return false;\r\n    const userOld = this.state.user;\r\n    this.setState({\r\n      imgFile : file.file\r\n    });\r\n    getBase64(file.file,(result)=>{\r\n      userOld.userAvatarSrc = result;\r\n      this.setState({\r\n        user : userOld\r\n      });\r\n    });\r\n  }\r\n  //收款码图片预览\r\n  customMoneyCodeRequest = (file) => {\r\n    if(!beforeUpload(file.file)) return false;\r\n    const userOld = this.state.user;\r\n    this.setState({\r\n      moneyCodeImgFile : file.file\r\n    });\r\n    getBase64(file.file,(result)=>{\r\n      userOld.moneyCode = result;\r\n      this.setState({\r\n        user : userOld\r\n      });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props['form'];\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 8 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    const tailFormItemLayout = {\r\n      wrapperCol: {\r\n        xs: {\r\n          span: 24,\r\n          offset: 0,\r\n        },\r\n        sm: {\r\n          span: 16,\r\n          offset: 8,\r\n        },\r\n      },\r\n    };\r\n    return (\r\n      <Form {...formItemLayout} onSubmit={this.handleSubmit}>\r\n        <Divider style={{fontSize: 17}}  orientation='left'>你的头像</Divider>\r\n        <Upload name='userAvatar' listType=\"picture-card\" customRequest={this.customRequest} className=\"avatar-uploader avatar-uploader-c1er\" showUploadList={false}>\r\n          {this.state['user'].userAvatarSrc ? <img id='showAvatar-c1er' src={this.state.user.userAvatarSrc} /> : <div>\r\n            <Icon type={this.state['upLoading']?'loading':'plus'} />\r\n            <div className='upLoadtext'>上传你的头像</div>\r\n          </div>}\r\n        </Upload>\r\n        <Divider style={{fontSize: 17}}  orientation='left'>基本信息</Divider>\r\n        <Form.Item className='ant-form-item-c1er' label=\"电子邮箱\">\r\n          {getFieldDecorator('email', {\r\n            rules: [\r\n              {\r\n                type: 'email',\r\n                message: '输入的邮箱格式不规范！',\r\n              },\r\n              {\r\n                required: true,\r\n                message: '请输入你的电子邮箱！',\r\n              },\r\n            ],\r\n            initialValue: this.state.user.email\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Form.Item className='ant-form-item-c1er'\r\n          label={\r\n            <span>\r\n              用户名&nbsp;\r\n              <Tooltip title=\"暂时不支持更改用户名哦！\">\r\n                <Icon type=\"question-circle-o\" />\r\n              </Tooltip>\r\n            </span>\r\n          }\r\n        >\r\n          {getFieldDecorator('nickname', {\r\n            rules: [{ required: true, message: '请输入你的用户名！', whitespace: true }],\r\n            initialValue: this.state.user.username || '你的用户名'\r\n          })(<Input disabled />)}\r\n        </Form.Item>\r\n        <Form.Item label=\"电话号码\" className='ant-form-item-c1er'>\r\n          {getFieldDecorator('phone', {\r\n            rules: [{ required: true, message: '请输入你的电话号码！' }],\r\n            initialValue: this.state.user.phone\r\n          })(<Input style={{ width: '100%' }} />)}\r\n        </Form.Item>\r\n        <Form.Item className='ant-form-item-c1er'\r\n          label={\r\n            <span>\r\n              收货地址&nbsp;\r\n              <Tooltip title=\"请填入你居住的寝室，便于卖家联系\">\r\n                <Icon type=\"question-circle-o\" />\r\n              </Tooltip>\r\n            </span>\r\n          }\r\n        >\r\n          {getFieldDecorator('address', {\r\n            rules: [{ required: true, message: '请输入你的收货地址！', whitespace: true }],\r\n            initialValue:this.state.user.address\r\n          })(<Input />)}\r\n        </Form.Item>\r\n        <Divider style={{fontSize: 17}}  orientation='left'>收款码</Divider>\r\n        <Upload name='moneyCode' listType=\"picture-card\" customRequest={this.customMoneyCodeRequest}  className=\"avatar-uploader avatar-uploader-c1er\" showUploadList={false}>\r\n          {this.state['user'].moneyCode ? <img id='moneyCode-c1er' src={this.state.user.moneyCode} /> : <div>\r\n            <Icon type={this.state['upLoading']?'loading':'plus'} />\r\n            <div className='upLoadtext'>上传你的收款码</div>\r\n          </div>}\r\n        </Upload>\r\n        <Form.Item {...tailFormItemLayout} className='ant-form-item-c1er message-update-c1er'>\r\n          <Button type=\"primary\" htmlType=\"submit\" size={'large'} shape='round'>\r\n            焕然一新吧\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    );\r\n  }\r\n}","export default function Map2JSON(MapOBJ){\r\n    let json = {};\r\n    const it = MapOBJ.entries();\r\n    for(let i of MapOBJ.entries()){\r\n        json[i[0]]=i[1];\r\n    }\r\n    return JSON.parse(JSON.stringify(json));\r\n}","import React, { Component } from 'react';\r\nimport { Form } from 'antd';\r\nimport UpdateMessageForm from './UpdateMessageForm';\r\nimport '../stylesheets/UserMessage.css';\r\nimport { Get } from '../utils/Request';\r\n\r\nexport default class UserMessage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            user : {\r\n                username : this.props['username'] || '李相赫'\r\n            }\r\n        };\r\n    }\r\n    componentDidMount(){\r\n        let url = `/api/user/home/message?username=${this.state['user'].username}`;\r\n        const res = Get(url);\r\n        res.then(response=>{\r\n            let {code, message, data} = response;\r\n            this.setState({\r\n                user : {\r\n                    userAvatarSrc : data['用户头像'],\r\n                    email : data['电子邮箱'],\r\n                    username : data['用户名'],\r\n                    phone : data['手机号码'],\r\n                    address : data['收货地址']\r\n                }\r\n            });\r\n        });\r\n    }\r\n    render(){\r\n        console.log('s');\r\n        const WrappedUpdateForm = Form.create({ name: 'register' })(UpdateMessageForm);\r\n        return(<div id='userMessage'>\r\n            <WrappedUpdateForm user={this.state['user']} />\r\n        </div>);\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport '../stylesheets/App.css';\r\nimport TopHeader from './TopHeader';\r\nimport Home from './Home';\r\nimport UserMessage from './UserMessage';\r\n\r\n\r\nexport default class App extends Component{\r\n    //全局数据源\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            user : {\r\n                name : '张山',\r\n                role : 0,\r\n                ifLogin : false,\r\n            },\r\n\r\n        };\r\n    }\r\n    render(){\r\n        return(\r\n            <Router>\r\n                <Route path='/' component={TopHeader} />\r\n                <Switch>\r\n                    <Route exact path='/homePage' component={Home} />\r\n                    <Route exact path='/users/home' component={UserMessage} /> \r\n                    <Route path='/users/message' component={UserMessage} />\r\n                </Switch>\r\n            </Router>\r\n        );\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />,document.getElementById('root'));"],"sourceRoot":""}