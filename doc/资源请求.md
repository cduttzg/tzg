## 首页

# URL：/api/home **(已完成)**

描述：首页商品信息展示

方法：GET

数据：书籍商品信息*8、虚拟商品信息*8、房屋商品信息*8、其它商品信息*8、福利商品信息*1。

期望返回格式：{"书籍":[{”商品名称”:”XXX”,”描述”:”XXX”,”单价”:XXX,”数量”:XXX,”卖家ID”:XXX,”商品ID”:XXX,”商品图片”:”XXX”},],"虚拟":[{”商品名称”:”XXX”,”描述”:”XXX”,”单价”:XXX,”数量”:XXX,”卖家ID”:XXX,”商品ID”:XXX,”商品图片”:”XXX”},],"房屋":[{”商品名称”:”XXX”,”描述”:”XXX”,”单价”:XXX,”数量”:XXX,”卖家ID”:XXX,”商品ID”:XXX,”商品图片”:”XXX”},],"其它":[{”商品名称”:”XXX”,”描述”:”XXX”,”单价”:XXX,”数量”:XXX,”卖家ID”:XXX,”商品ID”:XXX,”商品图片”:”XXX”},],"福利":[{”商品名称”:”XXX”,”描述”:”XXX”,”单价”:XXX,”数量”:XXX,”卖家ID”:XXX,”商品ID”:XXX,”商品图片”:”XXX”},]}

例子：{“商品标签”:”书籍”,”商品名称”:”这是一本书”,”描述”:”这是一本很好看的书”,”单价”:15.9,”数量”:1,”卖家ID”:132,”商品ID”:5,”商品图片”:”XXX”}

 

# URL：/api/home/cartInfo **(已完成)**

描述：获取购物车信息、查询用户是否被冻结、查询用户角色

方法：GET

数据：{“用户名”:”XXX”}

期望返回格式：{"data":[{"商品名称":"XXX",”商品图片”:”XXX”, ”描述”:”XXX”,”单价”:XXX,”数量”:XXX},],”是否被冻结”:true/false,"角色":0/1/2}

例子：{"data":[{"商品名称":"《BOOK》",”商品图片”:”XXX”, ”描述”:”这是一本书”,”单价”:15.5,”数量”:2},],”是否被冻结”:false,"角色":0}

 

# URL：/api/home/OrderInfo **(已完成)**

描述：实时购买展示

方法：GET

数据：{“number”:5}

期望返回格式：[{“买家姓名”:”XXX”,”商品名称”:”XXX”,”订单时间”:”XXX” },]

例子：[{”买家姓名”:”张三” ,”商品名称”:”书” ,”订单时间”:”2019-6-24”},]

## 注册

     * URL： /api/user/register
     * 描述：用户注册
     * 方法：POST
     * 数据：{“学号”:XXX,”用户名”:”XXX”,”密码（HASH加密）”:”XXX”,"教务处密码":"xxxxx",”手机号”:”XXX”,”邮箱”:”XXXX”,”地址”:”XXX”}
     * 返回：
     *  {code: 500502, msg: "用户名已存在", data: null}
     *  {code: 500501, msg: "你不是成都理工的学生", data: null}
     *  {code: 200, msg: "success", data: {content: "注册成功", status: 0}}    

## 登陆

# URL：/api/user/login         （已完成 谢礼峰）
     * URL： /api/user/login
     * 描述：用户登录
     * 方法：POST
     * 数据：{“用户名”:”XXX”,”密码（HASH加密）”}
     * 返回：
     *  {code: 200, msg: "success", data:{status: 0, 是否被冻结: false, 角色: 1}}
     *  {code: 600603, msg: "密码错误", data: null}
     *  {code: 500201, msg: "未找到该用户", data: null}

## 个人中心

# URL：/api/user/home/isSaller    (谢礼峰 完成)
     * URL： /api/user/home/isSaller
     * 描述：用户是否是商家
     * 方法：POST
     * 数据：{“用户名”:”XXX”}
     * 返回：
     *  不是卖家：{"code":200,"msg":"success","data":{"isSaller":false,"moneyCode":null}}
     *  是卖家：{"code":200,"msg":"success","data":{"isSaller":true,"moneyCode":"zacky的收款码"}}
     *  输入的用户不存在：{"code":500201,"msg":"未找到该用户","data":null}

# URL：/api/user/home/handleSeek   (完成)
    *  URL： /api/user/home/handleSeek
     * 描述：发布/删除求购
     * 方法：POST
     * 数据：{"data":{"发布":true/false,”用户名”:”XXX”,“商品标签”:”XXX”,”商品名称”:”XXX”,”描述”:”XXX”,”单价”:XXX,”数量”:XXX },"img":file} img-->商品图片
     * 返回：
     * 未找到该用户：{"code":500201,"msg":"未找到该用户","data":null}
     * 发布求购信息成功：{"code":200,"msg":"success","data":{"success":true}}
     * 发布的求购信息已经存在：{"code":600603,"msg":"求购信息已经存在，请勿重复发布","data":null}
     * 删除求购信息：{"code":200,"msg":"success","data":{"success":true}}

# URL：/api/user/home/SeekInfo **（已完成）**
     * URL： /api/user/home/SeekInfo
     * 描述：查看已发布求购
     * 方法：GET
     * 数据：{"用户名":"XXX"}
     * 返回：
     * 存在求购信息：{"code":200,"msg":"success","data":[{"商品名称":"求购TypeC充电线","数量":993,"单价":20.0,"商品图片":null,"联系方式":"13568043079","商品标签":5,"描述":"最近自己的Type-c充电线坏了，求购一条，亲们速速联系！感激不尽！"}]}
     * 不存在求购信息：{"code":200,"msg":"success","data":[]}

# URL：/api/user/home/message  **（已完成）**
     * URL：/api/user/home/message
     * 描述：获取当前用户信息
     * 方法：GET
     * 数据：{“用户名”:”XXX” }
     * 返回：
     * 查找用户信息成功：{"code":200,"msg":"success","data":{"头像":null,"总卖出量":0,"用户评分":10,"手机号码":"13568043079","学号":"201613160810","用户名":"rock","电子邮箱":"134562","收货地址":"成都"}}
     * 查找用户信息失败：{"code":500201,"msg":"未找到该用户","data":null}

#URL：/api/user/home/orderInfo **(已完成)**
     * URL：/api/user/home/orderInfo
     * 描述：获取当前用户的订单
     * 方法：GET
     * 数据：{“用户名”:”XXX”}
     * 返回：
     * 用户存在订单：{"code":200,"msg":"success","data":[{"买家姓名":"小红","订单ID":4,"订单状态":1,"卖家记录":[{"商品名称":"东苑E12套间一套三合租","卖家姓名":"rock"}],"订单时间":"2019-06-25T16:26:44.000+0000"}]}
     * 用户不存在订单：{"code":200,"msg":"success","data":[]}
 
URL：/api/user/home/goodsInfo **(已完成)**

描述：获取当前用户上/下架商品信息

方法：GET

数据：{“用户名”:”XXX”}

期望返回格式：[{”商品图片”:”XXX”, ”描述”:”XXX”,”单价”:XXX,”数量”:XXX,”商品ID”:”xxx”,"上架":ture/false},]

例子：[{”商品图片”:”XXX”, ”描述”:”这是一本书”,”单价”:15.5,”数量”:2,”商品ID”:1516,"上架":ture/false},]

 

# URL：/api/user/home/addGoods **(完成)**

    * 描述：用户添加新商品
    * 方法：POST
    * 数据：formData-->{"data":{”用户名”:”XXX”,“商品标签”:”XXX”,”商品名称”:”XXX”,”描述”:”XXX”,”单价”:XXX,”数量”:XXX },"img":file}  img-->商品图片
    * 返回值：
        * {"code":200,"msg":"success","data":{"success":true,"content":"添加商品完成"}}
        * {"code": 500402, "msg": "重复操作", data: null}
        * {"code": 500201, "msg": "未找到该用户", "data": null}

 
# URL：/api/user/home/onShelves **(完成)**

    * 描述：用户将商品上架
    * 方法：POST
    * 数据:{"商品ID":""xxxx","商品标签":xxx}
    * 例子：{“商品ID”:1,"商品标签":1}
    * 期望返回值:{"success":"true","content":"商品重新上架成功"}
    * 返回值：
        * {"code":200,"msg":"success","data":{"success":true,"content":"商品下架成功"}}
        * {"code": 500402, "msg": "重复操作", data: null}
        * {"code": 500303, "msg": "商品不存在", data: null}

# URL：/api/user/home/offShelves **(完成)**

    * 描述：用户将商品下架
    * 方法：POST
    * 数据：{“商品ID”:”xxxx”,”下架”:true}------>>>{"商品ID":"xxx"}
    * 期望返回格式：{“success”:false/true,”content”:”xxx”}
    * 返回值：
        * {"code":200,"msg":"success","data":{"success":true,"content":"商品下架成功"}}
        * {"code": 500402, "msg": "重复操作", data: null}
        * {"code": 500303, "msg": "商品不存在", data: null}

## URL：/api/user/home/updateMessage **(完成，暂放，文件)**

    * 描述：更新用户信息
    * 方法：POST
    * 数据：formData-->{"data":{“用户名”:”XXX”,”手机号码”:”XXX” ,”电子邮箱”:”XXX” ,”收货地址”:”XXX”},"img":[file,]}   img-->收款码、用户头像
    * 期望返回格式：{“success”:false/true,”content”:”xxx”,”beSaller”:false/true}
    * 返回值：
        * {"code":200,"msg":"success","data":{"success":true,"beSaller":false,"content":"信息修改成功"}}
        * {"code": 500402, "msg": "重复操作", data: null}
        * {"code": 500201, "msg": "未找到该用户", "data": null}


## URL：/api/user/buyer/paidOrder **(完成)**

    * 描述：支付完成
    * 方法：POST
    * 数据：{“买家用户名”:”xxx”,”订单ID”:”xxx”}
    * 期望返回格式：{“success”:false/true,”content”:”xxx”}
    * 返回值：
        * {"code":200,"msg":"success","data":{"success":true,"content":"订单已支付"}}
        * {"code": 500402, "msg": "重复操作", data: null}
        * {"code": 500400, "msg": "订单不存在", data: null}
        * {"code": 500201, "msg": "未找到该用户", "data": null}

## URL：/api/user/buyer/completeOrder **(完成)**

    * 描述：收货完成
    * 方法：POST
    * 数据：{“买家用户名”:”xxx”,”订单ID”:”xxx”}
    * 期望返回格式：{“success”:false/true,”content”:”xxx”}
    * 返回值：
        * {"code":200,"msg":"success","data":{"success":true,"content":"订单已完成"}}
        * {"code": 500402, "msg": "重复操作", data: null}
        * {"code": 500400, "msg": "订单不存在", data: null}
        * {"code": 500201, "msg": "未找到该用户", "data": null}
        

## 购物车

# URL：/api/cart/cartInfo √√√√√√√√√已完成√√√√√√√

描述：获取购物车信息

方法：GET

数据：{“用户名”:”XXX”}

期望返回格式：[{“商品ID”:”XXX”,”商品图片”:”XXX”, ”描述”:”XXX”,”单价”:XXX,”数量”:XXX,”卖家名称”:”XXX”,"商品库存":xxx},]

例子：[{“商品ID”:”41655”,”商品图片”:”XXX”, ”描述”:”这是一本书”,”单价”:15.5,”数量”:2, ”卖家名称”:”张三”,"商品库存":5},]

 

# URL：/api/cart/updateCartInfo √√√√√√√√√已完成√√√√√√√

描述：更改购物车商品数量

方法：POST

数据：{“用户名”:”XXX”,“商品ID”:“XXX”,”add”:true/false}

期望返回格式：{“success”:true/false,”content”:”xxxx”}

 

#URL：/api/cart/createOrder √√√√√√√ 已完成√√√√√√√

描述：创建订单

方法：POST

数据：{“用户名”:”XXX”}

期望返回格式：{“sucess”:true/false,”content”:”xxxx”,”订单ID”:”xxxx”,"卖家信息":[{"卖家用户名":"XXX",收款码":"XXX","金钱":xxx},]}

 


## 后台管理

## URL：/api/backstage/getData **(完成)**

    * 描述：显示数据信息
    * 方法：GET
    * 期望返回格式：{"网站活跃度":[xxx,xxx,xxx],"网站日交易量":[xxx,xxx,xxx],"网站总交易量":xxx,"求购标签":[{"标签名1":xxx},{"标签名2":xxx},{"标签名3":xxx},...]}
    * 返回值：
        * {code: 200, msg: "success", data: {"网站活跃度":[12,23,34],"网站日交易量":[12,23,34],"网站总交易量":800,"求购标签":[{"标签名1":111},{"标签名2":222},{"标签名3":333},...]}} 

# URL：/api/backstage/manageOrder **(完成)**

    * 描述：订单置于异常
    * 方法：POST
    * 数据：{"订单ID":"XXX"}
    * 期望返回格式：{"code":XXX,"msg":"xxx","data":"XXX"}
    * 返回值：
        * {"code":200,"msg":"success","data":{"success":true,"content":"置为异常成功"}}
        * {"code": 500402, "msg": "重复操作", data: null}
        * {"code": 500400, "msg": "订单不存在", data: null}

# URL：/api/backstage/getFrozenUser **(完成)**

    * 描述：获取冻结用户
    * 方法：GET
    * 数据：null
    * 期望返回格式：{"用户名":"XXX","学号":"XXXXX","电话":"xxx","角色":0/1/2}
    * 返回值：
        * {"code":200,"msg":"success","data":[{"角色":0,"电话":"12312324562","用户名":"小李","学号":"201613160833"}]}
        * {"code": 500401, "msg": "暂无冻结用户", "data": null}

# URL：/api/backstage/freezeUser **(完成)**

    * 描述：冻结用户
    * 方法：POST
    * 数据：{"用户学号":"XXX"}
    * 期望返回格式：{"code":XXX,"msg":"xxx","data":"XXX"}
    * 返回值：
        * {"code": 200, "msg": "success", "data": {"success":true,"content":"用户已冻结"}}
        * {"code": 500201, "msg": "未找到该用户", "data": null}
        * {"code": 500402, "msg": "重复操作", data: null}

# URL ：/api/backstage/addAdmin  **(完成)**

    * 描述：添加管理员
    * 方法：POST
    * 数据：{"用户学号":"XXX"}
    * 期望返回格式：{"code":XXX,"msg":"xxx","data":"XXX"}
    * 返回值：
        * {"code":200,"msg":"success","data":{"success":true,"content":"该用户升级为管理员"}}
        * {"code": 500201, "msg": "未找到该用户", "data": null}
        * {"code": 500402, "msg": "重复操作", data: null}

# URL : /api/backstage/deletAdmin  **(完成)**
    * 描述：删除管理员
    * 方法：POST
    * 数据：{"用户学号":"XXX"}
    * 期望返回格式：{"code":XXX,"msg":"xxx","data":"XXX"}
    * 返回值：
        * {"code":200,"msg":"success","data":{"success":true,"content":"删除管理员成功"}}
        * {"code": 500201, "msg": "未找到该用户", "data": null}
        * {"code": 500402, "msg": "重复操作", data: null}

# URL：/api/backstage/getAdmin **(完成)**

    * 描述：获取所有管理员
    * 方法：GET
    * 数据：null
    * 期望返回格式：{"用户名":"XXX","电话":"xxx"}
    * 返回值：
        * {"code":200,"msg":"success","data":[{"电话":"13568043079","用户名":"rock"},{"电话":"12345678987","用户名":"jack"},{"电话":"15196684789","用户名":"zacky"}]}
        * {"code": 500403, "msg": "暂无管理员", data: null}

## 商品详情

# URL：/api/goods/getInfo   √√√√√√√√√已完成√√√√√√√

描述：获取商品信息

方法：GET

数据：{"商品ID":"xxx"}

期望返回格式：{"卖家名称":"XXX","卖家头像":"XXX",卖家成功交易量":XXX}



# URL：/api/goods/addToCart    √√√√√√√已完成√√√√√√√

描述：添加商品到购物车

方法：POST

数据：{"用户名","XXX","商品ID":"XXX","商品数量":XXX}

期望返回格式：{"code":XXX,"msg":"XXXX","data":null}



# URL：/api/goods/buyNow       √√√√√√√ 已完成√√√√√√√

描述：立即购买商品

方法：POST

数据：{“用户名”:”XXX”,“商品ID”:”XXX”,”数量”:XXX}

期望返回格式：{"code":XXX,"msg":"xxx","data":{”订单ID”:”xxxx”,"卖家信息":{"卖家用户名":"XXX",收款码":"XXX","金钱":xxx}}}



## 商品展览页面

URL：/api/goods/getGallery
#更改为: URL：/api/goods/gallery      √√√√√√√ 已完成√√√√√√√


描述：获取所有同标签商品

方法：GET

数据：{"标签种类":"XXX"}

期望返回数据：[{“商品标签”:”XXX”,”商品名称”:”XXX”,”描述”:”XXX”,”单价”:XXX,”数量”:XXX,”卖家ID”:XXX,”商品ID”:XXX,”商品图片”:”XXX”,"联系方式":"XXX"},]

